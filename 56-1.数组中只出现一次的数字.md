# 56-1.数组中只出现一次的数字

一个整型数组 nums 里除两个数字之外，其他数字都出现了两次。请写程序找出这两个只出现一次的数字。要求时间复杂度是O(n)，空间复杂度是O(1)。

 

示例 1：

>输入：nums = [4,1,4,6]
输出：[1,6] 或 [6,1]

示例 2：

> 输入：nums = [1,2,10,4,1,4,3,3]
> 输出：[2,10] 或 [10,2]


限制：

> 2 <= nums.length <= 10000



## 最佳解法：位运算

思路总结：

1.利用亦或运算的性质，从头到尾异或数组中的每个字，最终得到的结果是两个只出现一次的数字的异或结果

2.在结果数字中找到第一个为1 的位的位置，记为第n位（**sign &= (~sign) + 1或者  diff &= -diff;**）

3.以第n位是不是1为标准把原数组中的数字分为两个子数组，第一个子数组中每个数字的第n位都是1，第二个子数组中每个数字的第n位都是0；

4.每个子数组单独异或，分别得到只出现一次的数字。



```C++
vector<int> singleNumber(vector<int>& nums) 
{
    int diff = 0;
    //取得数组中两个唯一数的按位异或结果
    for (int i = 0; i < nums.size(); i++)
    {
        diff ^= nums[i];
    }
    //获取区分两个唯一数的比特位所代表的值
    //也可以写成：sign &= (~sign) + 1
   diff &= -diff;
   vector<int> res(2, 0);
    //通过标识，区分两个数组
    for (auto &a : nums) {
            if (a & diff) res[0] ^= a;
            else res[1] ^= a;
    }
    return res;
}

```

